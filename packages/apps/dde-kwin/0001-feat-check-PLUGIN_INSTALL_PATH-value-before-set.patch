From 12c6865a41d2f3b8f1f07072eef76c415999738a Mon Sep 17 00:00:00 2001
From: rewine <lhongxu@outlook.com>
Date: Wed, 3 Aug 2022 18:03:43 +0800
Subject: [PATCH] feat: check PLUGIN_INSTALL_PATH value before set
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Log: 允许编译时设置 PLUGIN_INSTALL_PATH 值
---
 CMakeLists.txt | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/CMakeLists.txt b/CMakeLists.txt
index fa2ae87d1..61896ccbe 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -47,7 +47,9 @@ endmacro()
 
 query_qmake("QT_INSTALL_PLUGINS" QT_INSTALL_PLUGINS)
 
-set(PLUGIN_INSTALL_PATH ${QT_INSTALL_PLUGINS}/platforms)
+if(NOT DEFINED PLUGIN_INSTALL_PATH)
+    set(PLUGIN_INSTALL_PATH ${QT_INSTALL_PLUGINS}/platforms)
+endif()
 # Find includes in corresponding build directories
 set(CMAKE_INCLUDE_CURRENT_DIR ON)
 # Instruct CMake to run moc automatically when needed
-- 
2.36.1

